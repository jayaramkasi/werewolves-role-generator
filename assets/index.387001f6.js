var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,o=(e,a)=>{for(var t in a||(a={}))l.call(a,t)&&r(e,t,a[t]);if(n)for(var t of n(a))i.call(a,t)&&r(e,t,a[t]);return e},s=(e,n)=>a(e,t(n));import{R as c,L as d,r as y,u as h,a as m,b as u,B as p,S as f,c as v,d as b,e as g,f as w,P as E}from"./vendor.e4aa2d24.js";function x(e){return c.createElement("nav",{className:"bg-black text-white space-between flex flex-wrap items-center justify-between px-2 py-3"},c.createElement("div",{className:"mx-4 px-4 space-x-4 flex"},c.createElement(d,{to:"/werewolves-role-generator"},"Mod "),c.createElement(d,{to:"/game"},"Game")),c.createElement("div",null,c.createElement(d,{to:"/roles"},"Roles"),c.createElement(d,{to:"/abilities"},"Abilities")))}const N=(e,{identity:a,ability:t,isVampire:n,isCult:l,alive:i,hook:r,used:c})=>({type:"UPDATE_PLAYER",payload:o(o(s(o(o(o({index:e},r?{hook:r}:{}),a?{identity:a}:{}),t?{ability:t}:{}),{isVampire:Boolean(n),isCult:Boolean(l)}),void 0!==i?{alive:i}:{}),void 0!==c?{used:c}:{})});const k=({id:e,size:a,children:t,variant:n,className:l,onClick:i,disabled:r})=>c.createElement("button",{id:e||"button-without-id",className:`${{primary:"btn--primary",disabled:"btn--disabled","outlined-primary":"btn--outline-primary border-2 focus:outline-none focus:ring-2",secondary:"btn--secondary","outlined-secondary":"btn--outline-secondary border-2 focus:outline-none focus:ring-2",danger:"btn--danger",custom:""}[n]||""} btn rounded transition-colors duration-500  ${a||""}  ${r?"btn--disabled":""} ${l||""}`,onClick:i,disabled:r,role:"button"},t);const C=({value:e,onChange:a,className:t,label:n,variant:l,id:i,customPath:r,classNameBox:o,classNameTickedBox:s,classNameLabel:d,tickColor:y,tickWidth:h})=>{const m={primary:"checkbox-primary","primary-dark":"checkbox-primary-dark",secondary:"checkbox-secondary","secondary-dark":"checkbox-secondary-dark",default:""},u=e?y||"white":"transparent";return c.createElement("div",{className:`flex flex-row items-center ${t||""}`},c.createElement("svg",{className:`rounded-lg border-2 w-6 h-6 transition-colors duration-250 ${e?m[l]||m.default:"bg-white"} ${e?s:""} ${o||""}`,onClick:()=>{a(!e)}},c.createElement("path",{d:e?r||"M17,8,15.58,6.58,9,13.17,6.41,10.6,5,12l3,3Z":"",stroke:u,fill:u})),c.createElement("div",{className:`px-2 ${d||""}`},n))};const T=({type:e,value:a,onChange:t,placeholder:n="",className:l="",classNameInput:i="",label:r="",isValid:o,runCheck:s,feedbackToShow:d=null,startIcons:h=[],endIcons:m=[]})=>{const[u,p]=y.exports.useState(d);return y.exports.useEffect((()=>{p(d)}),[a]),y.exports.useEffect((()=>{s&&o&&(console.log("Here"),"email"===e?p((e=>e.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))(a)?null:"Please enter a valid email"):!o()&&p("Please enter a valid input"))}),[s]),c.createElement("div",{className:`flex flex-col mt-1 rounded justify-center bg-white input-container focus-within:ring focus-within:ring-primary align-middle ${l}`},r.length>0&&c.createElement("div",{className:"label pl-2 leading-none "},c.createElement("label",{className:"text-tiny"},r)),c.createElement("div",{className:"flex flex-row justify-start align-middle mt-1"},c.createElement("div",{className:"align-middle justify-center p-1"},h),c.createElement("input",{value:a,onChange:t,type:e,className:`inp pl-4 pr-2 bg-transparent focus:outline-none rounded ${i}`,placeholder:n}),c.createElement("div",{className:"align-middle"},m)),(o&&o()||"email"===e||d)&&c.createElement("div",{className:"feedback pl-2 text-red-500 text-tiny "+(u?"py-1":"py-0")},u))};var P=[{name:"Ancient",narrator:"When the player with ANCIENT dies, all Ability Cards and role-based abilities render ineffective. The vampires and werewolves still feed, the cultist still converts, and the villages still vote to lynch.",player:"You’re cursed with an ancient magic. If you are lynched during the Day Phase, all players will lose their special abilities. Ability Cards no longer apply. Special villagers become ordinary. The LONE WOLF retains his/her identity."},{name:"Bench Press",narrator:"  ",player:"You know the answer before everyone else. When BENCH PRESS is used, the village closes their eyes. You discretely guess who will be the next lynched. If correct, you may choose to save the selected. In addition, pick an additional player to lynch. If incorrect, you die."},{name:"Cockblock",narrator:"  ",player:"Stop your friend from scoring! Play this card to cancel an Ability before the Ability's effect has been enacted. (It is lost even if played on a fake Ability.) This ability can be used once during either phase."},{name:"Dark Pact",narrator:"  ",player:"You’re offered a deal with the devil. Secretly played during the night, you are immune to death until the following Night Phase. You will then die and be announced as a victim to the WITCH and the town. This ability can only be activated once and during a Night Phase."},{name:"Diseased",narrator:"",player:"If the wolves choose to eat you, they must skip feeding during the next night. As a WEREWOLF, if the village lynches you, they must skip the next vote. This ability is activated each time the holder is killed."},{name:"Echolocation",narrator:"  ",player:"If either of the two closest living players to your left and right are a WEREWOLF, CULTIST or VAMPIRE, the MODERATOR will announce 'evil has been located.' This ability can only be activated once and during a Day Phase."},{name:"Flower Power",narrator:"  ",player:"Be patient, good things take time. If you are among the final five members of the village, you can activate this Ability as any other Ability. However, you must announce your new power to the village.This ability can only be activated once and during a Day Phase."},{name:"Goblin Contract",narrator:"  ",player:"During the night, pick a player to offer a partnership. The MODERATOR will wake the chosen and ask if he/she will accept. If accepted, you win only when you're the final two alive. In exchange for accepting, the partner receives immunity through that Night Phase."},{name:"Haunt",narrator:"  ",player:"Your disembodied soul causes madness. If killed, you must select another player to join you in the afterlife.This ability can only be activated once."},{name:"Hindsight",narrator:"  ",player:"See things clearly. During the first Night Phase, the MODERATOR will show you 3 Identity or Ability cards that are not in play.This ability is only activated once."},{name:"Holy Water",narrator:"  ",player:"Blessed by the elusive Cleric, this card can be used to cleanse Lesser VAMPIRES or players the CULTIST has “converted.” This ability can be used once during the Day Phase."},{name:"Idol",narrator:"  ",player:"This medallion grants immunity. The IDOL protects any single player from being lynched.This ability can only be activated once and during a Day Phase. It must be played before the votes are cast."},{name:"Inquisitor",narrator:"  ",player:"You may question another player. If that player is evil, that player is lynched. If that player is good, the town revolts and kills (not lynches) you instead.This ability can only be activated once and during the Day Phase."},{name:"Jailor",narrator:"  ",player:"You may choose a player to keep in jail during the next Night Phase. This person will be saved from dying and will also be role-blocked.This ability can only be activated once and during a Day Phase."},{name:"Martyr",narrator:"  ",player:"After the MODERATOR announces a death, you may choose to take the place of the killed player — saving them from death by sacrificing yourself.This ability can only be activated once and during a Day Phase."},{name:"Mask",narrator:"The true identity of the player with MASK should not be revealed. Instead, always present this player as the opposite faction.",player:"Your true identity is disguised. If you are selected to be identified, the MODERATOR will show the opposite Identity.For example, if you are a VILLAGER, you will be identified as a WEREWOLF, and vice versa."},{name:"Mortician",narrator:"  ",player:"As you prepare dead bodies for burial, you uncover the truth! You may select a deceased player and ask the MODERATOR to announce their Identity and Ability.This ability can be used once during the Day Phase."},{name:"Old Age",narrator:"The player with OLD AGE dies during the Day Phase if/when there are 5 remaining players.",player:"You do not have long to live. You will die from old age if/when you survive to the final five players of the game.This ability will only be activated once."},{name:"Omen",narrator:"  ",player:"A sign of something to come, the OMEN is played during a Night Phase. The selected player will unknowingly begin the next Day Phase with two lynch votes against them.This ability can only be activated once."},{name:"Ordinary",narrator:"  ",player:"You are modest, plain and unadorned. You do not have a special ability."},{name:"Parity",narrator:"  ",player:"Select two players. The MODERATOR will announce 'same alignment' if they're on the same team, or 'different alignment' if on different teams.This ability can only be activated once and during the Day Phase."},{name:"Pickpocket",narrator:"  ",player:"You have a propensity for thievery. The PICKPOCKET may steal the Ability card of another player.This ability can only be activated once and during a Day Phase."},{name:"Pokerface",narrator:"  ",player:"She’s got me like nobody. Claim any Identity as your own. The village will each vote if you’re lying or telling the truth. If you’re falsely accused of lying, those villagers die. This ability can be used once during the Day Phase."},{name:"Possesion",narrator:"  ",player:"You have the power to possess! You will wake in the night and select a player. If that player dies during that night, you will secretly take over their role.This ability can be used once during the Night Phase."},{name:"Reaper",narrator:"When the player with REAPER votes, their vote counts twice.",player:"You beckon others towards death. During the Day Phase, your vote for who to lynch counts twice.If the player with the REAPER is killed, he/she chooses a successor."},{name:"Resonate",narrator:"  ",player:"When a Resonate verse plays, we skip it. Similarly, RESONATE may be played to skip either the next Day Phase or the next Night Phase.This card is played once during the Day Phase, and the village is informed what Phase will be skipped."},{name:"Revealer",narrator:"  ",player:"Uncover the truth. Choose to reveal either the Identity or Ability of a selected player.This ability can only be activated once and during a Day Phase."},{name:"Sleeping Potion",narrator:"  ",player:"Brew a sleeping potion and put two people to sleep early. These players may not participate in any further discussion or the next lynch vote.This ability can only be activated once and during a Day Phase."},{name:"Stronghold",narrator:"When the player with STRONGHOLD dies, you will not announce the death until the following Day Phase.",player:"You fortify yourself against all attacks – delaying the inevitable. You will survive one extra Phase before your death is announced.This ability will only be activated once."},{name:"Stupid Pills",narrator:"  ",player:"Did you take stupid pills this morning? STUPID PILLS makes everyone forget their Ability.Shuffle all other Ability cards in play (used and unused). Redeal all cards between the remaining players – starting with the player who played this card."},{name:"Tentacle Alien",narrator:"The TENTACLE ALIEN is played on two players. The effect of all Ability Cards and role-based abilities are swapped between these two players (e.g., if Player 1 is killed by the werewolves, Player 2 dies).",player:"You’ve been abducted and probed by tentacle-ridden aliens. TENTACLE ALIEN chooses two players to abduct. Any action targeting those two players are swapped for the rest of the game.This ability can only be activated once and during a Night Phase."},{name:"Undead",narrator:"  ",player:"If you die, you will be temporarily reincarnated. You may vote to lynch once more during the next Day Phase. You may not participate in the discussion and must remain sleeping if there is a Night Phase."},{name:"Vagabond",narrator:"  ",player:"You temporarily travel from the village. You will be immune to all effects from (and not participate in) the following Night Phase.This ability can only be activated once and during the Day Phase."},{name:"Weaponsmith",narrator:"  ",player:"You make deadly weapons for others! Choose a player who must immediately select a player to kill. (If the player you choose selects to kill you, it only has a 50% chance to work.)This ability can only be activated once and during the Day Phase."}],A=[{role:"villager",faction:"T",winConditions:"All evil members are lynched/killed",description:"*Lynch the WEREWOLVES before they kill off the village.*\n\n You sleep through the Night Phase and vote to lynch a player during the Day Phase. \n\n You win when all evil villagers are dead."},{role:"seer",faction:"T",winConditions:"All evil members are lynched/killed",description:"*Discover the WEREWOLVES and inform the town.* \n During each Night Phase, you will wake up and select a player. The MODERATOR will secretly show you his/her true identity. \n\n You win when all evil villagers are dead."},{role:"witch",faction:"T",winConditions:"All evil members are lynched/killed",description:"During each Night Phase, the MODERATOR will secretly show you the latest victim of the WEREWOLVES. You have two potions – one to save and one to kill. Each potion can be used only once per game. You may save the latest victim or kill another player. \n You win when all evil villagers are dead."},{role:"monarch",faction:"T",winConditions:"All evil members are lynched/killed",description:"Take control of the kingdom with the sole power to decide who will be lynched. Debate is allowed, but the  MONARCH makes the final decision. \n\n You win when all evil villagers are dead.",maxCount:1},{role:"executioner",faction:"T",winConditions:"All evil members are lynched/killed",description:"Lynch the WEREWOLVES before they kill off the village. The first time you’re chosen by the town to be lynched, you may choose another player to be lynched in your stead. \n\n You win when all evil villagers are dead."},{role:"hooker",faction:"T",winConditions:"All evil members are lynched/killed",description:"Every Night Phase, you must choose a player to lie with. If you choose a WEREWOLF or VAMPIRE, you will die. \n\n You may not select the same player two nights in a row.\n\n You win when all evil villagers are dead.",maxCount:1},{role:"werewolf",faction:"W",winConditions:"Kill all villagers, vampires, cultist, lone werewolf",description:"Kill off the VILLAGERS and avoid detection. You wake up during the Night Phase and secretly select a player to eat. \n\n You win when all VILLAGERS, CULTIST , VAMPIRES AND LONE WEREWOLF are dead. "},{role:"minion",faction:"W",winConditions:"Kill all villagers, vampires, cultist, lone werewolf",description:"Work with the WEREWOLVES to kill the villagers. During the first Night Phase, you will learn who are the wolves, but they will not know who you are. \n\n You win with the werewolves.",maxCount:1},{role:"loneWerewolf",faction:"W",winConditions:"Be the last wolf standing",description:"Kill off everyone and avoid detection. Every second Night Phase, you will wake up a second time for a lone hunt and may choose to devour a WEREWOLF. \n\n You win when everyone else is dead."},{role:"zatch",faction:"T",winConditions:"Get lynched on the first Day phase",description:"Subtly convince the VILLAGERS to turn against you. You win only if you’re lynched during the first Day Phase. After the first Day Phase, you become a normal VILLAGER and win when all evil villagers are dead. Each night, you will wake up and “convert” one player that the MODERATER will then secretly tap. \n\n Converted players retain their Identity. \n\n You win when every player alive has been converted.",maxCount:1},{role:"masterVampire",faction:"V",winConditions:"Village is left with only vampires",description:"You wake each night and turn a player to a Vampire. They will wake to identify one another but will not who you are. If you are killed, no more Vampires are turned. \n\n You win when the village is left with only Vampires.",maxCount:1},{role:"cultist",faction:"C",winConditions:"All villagers are members of your cult",description:"Each night, you will wake up and “convert” one player that the MODERATER will then secretly tap. \n\n Converted players retain their Identity. \n\n You win when every player alive has been converted.",maxCount:1}];function R(e){const a=h((e=>e.players)),t=m(),n=a.filter((e=>e.alive)).map((e=>s(o({},e),{faction:A.find((a=>a.role===e.identity)).faction})));n.every((e=>"T"===e.faction)),n.every((e=>"W"===e.faction&&"loneWerewolf"!==e.identity)),1===n.length&&n[0].identity,n.every((e=>e.isCult));const l=n.every((e=>e.isVampire));console.log(l);return c.createElement("div",{className:"grid grid-flow-row grid-cols-12 p-12"},c.createElement("div",{className:"col-span-2 flex justify-between text-xl font-extrabold mb-2 pr-4"},c.createElement("div",null,"Players"),c.createElement("div",null,"Alive?")),c.createElement("div",{className:"col-span-4 flex justify-start text-xl font-extrabold mb-2"},"Hooks"),c.createElement("div",{className:"col-span-2 flex justify-start text-xl font-extrabold mb-2"},"Identities"),c.createElement("div",{className:"col-span-2 flex justify-start text-xl font-extrabold mb-2"},"Abilities (Used?)"),c.createElement("div",{className:"col-span-1 flex justify-start text-xl font-extrabold mb-2"},"Vampire"),c.createElement("div",{className:"col-span-1 flex justify-start text-xl font-extrabold mb-2"},"Cult"),a.map(((e,n)=>c.createElement(c.Fragment,{key:`player-${n}`},c.createElement("div",{className:"col-span-2 flex flex-row justify-between p-2 items-center "+(e.alive?"text-gray-900":"text-gray-200")},c.createElement("p",null,e.name),c.createElement(C,{variant:"primary",value:e.alive,onChange:a=>{t(N(n,{alive:!e.alive}))}})),c.createElement("div",{className:"col-span-4 flex flex-row justify-between px-4 items-center  "+(e.alive?"text-gray-900":"text-gray-200")},c.createElement(T,{containerClass:"px-2 focus:ring-0 w-full",classNameInput:"w-full border-2 border-black",className:"w-full",placeholder:`${e.name}'s webhook`,key:n,value:e.hook,onChange:e=>((e,a)=>{t(N(a,{hook:e.target.value}))})(e,n)}),c.createElement(k,{variant:"primary",onClick:()=>{(async e=>{console.log(e);const t=A.find((a=>a.role===e.identity)),n=P.find((a=>a.name===e.ability));if("W"!==t.faction)e.hook&&await fetch(e.hook,{method:"POST",body:JSON.stringify({text:`Hi ${e.name}, \n\n \nYour identity: *${t.role}* \n${t.description}\n\n\nYour ability: *${n.name}*\n\n${n.player}`})}).then((e=>{console.log(e.ok)}));else{const l=a.filter((e=>"W"===A.find((a=>a.role===e.identity)).faction));console.log(l);const i="minion"===e.identity?l:l.filter((a=>"minion"!==a.identity&&a.name!==e.name));e.hook&&await fetch(e.hook,{method:"POST",body:JSON.stringify({text:`Hi ${e.name}, \n\n \nYour identity: *${t.role}* \n${t.description}\n\n\nYour ability: *${n.name}*\n\n${n.player}\n\n\nYour known teammates: *${i.map((e=>e.name)).join(", ")}* ${0===i.length?"nobody":""}`})})}})(e)}},c.createElement("img",{src:"/werewolves-role-generator/assets/play.8fae0680.svg"}))),c.createElement("div",{className:"col-span-1 flex flex-row justify-between p-2 items-center "+(e.alive?"text-gray-900":"text-gray-200")},e.identity),c.createElement("div",{className:`col-span-3 flex flex-row justify-between px-6 items-center ${e.used?"line-through":""} ${e.alive?"text-gray-900":"text-gray-200"}`},e.ability,e.used,c.createElement(C,{variant:"primary",value:e.used,onChange:()=>{t(N(n,{used:!e.used}))}})),c.createElement("div",{className:"col-span-1 flex flex-row justify-between p-2 items-center "},c.createElement(C,{variant:e.alive?"primary":"secondary",value:e.isVampire,onChange:l=>{l&&"masterVampire"!==e.role&&(async e=>{const t=a.filter((e=>e.alive&&e.isVampire&&"masterVampire"!==e.identity));e.hook&&await fetch(e.hook,{method:"POST",body:JSON.stringify({text:`${e.name}, you've been turned by the master vampire! You are now allied to the vampires team! \n\n\n          ${0===t.length?"You are the first person turned":`These people are also vampires -  ${t.map((e=>e.name)).join(",")}`}. \n\n`})}),t.map((async a=>{a.hook&&await fetch(a.hook,{method:"POST",body:JSON.stringify(`${e.name} is also turned by the master vampire! \n\n `)})}))})(e),t(N(n,{isVampire:!e.isVampire}))}})),c.createElement("div",{className:"col-span-1 flex flex-row justify-between p-2 items-center"},c.createElement(C,{variant:"primary",value:e.isCult,onChange:a=>{a&&(async e=>{"cultist"!==e.identity&&await fetch(e.hook,{method:"POST",body:JSON.stringify({text:`*${e.name}:* You've been turned to the cult by the master cultist! \n\n *Find and lynch/kill them *`})})})(e),t(N(n,{isCult:!e.isCult}))}}))))))}const O=({minValue:e=-1111111111111,label:a=" ",maxValue:t=1111111111111,defaultValue:n=0,onChange:l,variant:i="primary",incrementValue:r=1,decrementValue:o=1,inputClassNames:s="",decrementContent:d="-",incrementContent:h="+",reachedMinErrorText:m=`Value must be >= ${e}`,reachedMaxErrorText:u=`Value must be <= ${t}`,className:p="",labelClassNames:f="",buttonClassNames:v="",buttonContainerClassNames:b=""})=>{const[g,w]=y.exports.useState(n||0),[E,x]=y.exports.useState(""),N=y.exports.useRef(!0);return y.exports.useEffect((()=>{N.current?N.current=!1:(l(g),x(""))}),[g]),c.createElement("div",{className:`container mx-auto flex flex-col ${p}`},c.createElement("div",{className:`flex flex-row ${b}`},c.createElement(k,{onClick:()=>w(g-o),className:v,variant:i,disabled:g<=e,size:"sm"},d),c.createElement(T,{className:`w-16 text-center ${s} pr-4 `,value:g,onChange:a=>{a.target.value>=e&&a.target.value<=t?w(a.target.value):x(a.target.value<e?m:u)}}),c.createElement(k,{onClick:()=>w(g+r),className:v,variant:i,disabled:g>=t,size:"sm"},h)),c.createElement("div",{className:"flex"},c.createElement("p",{className:"text-xs text-red-500"},E)))};function V(e){const a=u();function t(e){let a,t,n;for(n=e.length-1;n>0;n--)a=~~(Math.random()*(n+1)),t=e[n],e[n]=e[a],e[a]=t;return e}const n=m(),l=h((e=>e.players)),{werewolves:i,villagers:r,vampires:s,cultists:d}=h((e=>e.identities)),y=h((e=>e.abilities)),p=e=>Object.entries(e).filter((([,e])=>e>0)).reduce(((e,[a,t])=>{for(let n=0;n<t;n++)e.push(a);return e}),[]),f=A.filter((e=>"T"===e.faction)),v=A.filter((e=>"W"===e.faction)),b=f.reduce(((e,a)=>e+r[a.role]),0)+v.reduce(((e,a)=>e+i[a.role]),0)+s.masterVampire+d.cultist,g=Object.values(y).reduce(((e,a)=>e+a),0),w=l.length!==b||l.length!==g||l.some((e=>""===e.name));return console.log(l),c.createElement("div",{className:"container grid grid-cols-4 gap-2 "},c.createElement("div",{className:"flex flex-col items-center m-4 p-2"},c.createElement("h1",{className:"text-xl font-extrabold mb-2 "+(l.length===b||l.length===g?"text-green-500":"")},"Players (",l.length,")"),c.createElement("div",null,l.map(((e,a)=>c.createElement("div",{key:`player-${a}`,className:"flex flex-row pb-1 items-center justify-center"},c.createElement(T,{containerClass:"p-2 ring-1 w-full",placeholder:`Player: ${a}`,key:a,value:e.name,onChange:e=>{n(((e,a)=>({type:"UPDATE_PLAYER_NAME",payload:{index:e,name:a}}))(a,e.target.value))}}),c.createElement(k,{variant:"secondary",className:"px-2",onClick:()=>{n({type:"REMOVE_PLAYER",payload:{playerIndex:a}})}},"-"))))),c.createElement(k,{variant:"secondary",className:"my-4 px-2",onClick:()=>{n({type:"ADD_PLAYER"})}},"+ player"),c.createElement(k,{variant:"primary",className:"w-full p-2 m-2",disabled:w,onClick:()=>{const e=(()=>{const e=o(o(o(o({},r),i),s),d);return p(e)})(),c=p(y),h=t(e),m=t(c);console.log(m,h),l.map(((e,a)=>{n(N(a,{ability:m[a],identity:h[a],isVampire:"masterVampire"===h[a],isCult:"cultist"===h[a],alive:!0}))})),a.push("/game")}},"NEW GAME"),c.createElement(k,{variant:"outlined-primary",className:"w-full p-2 m-2"},"CURRENT GAME")),c.createElement("div",{className:"flex flex-col m-4 items-start p-2"},c.createElement("h1",{className:"text-xl font-extrabold mb-2 "+(l.length===b||b===g?"text-green-500":"")},"Identities (",b,")"),c.createElement("h3",{className:"text-lg font-extrabold my-2 text-gray-400"},"Town faction"),f.map((e=>c.createElement("div",{key:e.role,className:"p-1 flex w-60 justify-end"},c.createElement("div",{className:"flex items-center"},e.role),c.createElement(O,{minValue:0,defaultValue:r[e.role],className:"flex justify-end align-bottom",buttonClassNames:"px-2 py-0",buttonContainerClassNames:"justify-end",onChange:a=>{n({type:"UPDATE_VILLAGER",payload:{role:e.role,value:a}})}})))),c.createElement("h3",{className:"text-lg my-2 font-extrabold text-gray-400"},"Werewolves faction"),v.map((e=>c.createElement("div",{key:e.role,className:"p-1 flex w-60 justify-end"},c.createElement("div",{className:"flex items-center"},e.role),c.createElement(O,{minValue:0,maxValue:"werewolf"===e.role?1e7:1,defaultValue:i[e.role],className:"flex justify-end align-bottom",buttonClassNames:"px-2 py-0",buttonContainerClassNames:"justify-end",onChange:a=>{n({type:"UPDATE_WEREWOLF",payload:{role:e.role,value:a}})}})))),c.createElement("h3",{className:"text-lg my-2 font-extrabold text-gray-400"},"Vampire"),c.createElement("div",{className:"p-0 flex w-60 justify-end"},c.createElement("div",{className:"flex items-center"},"MasterVampire"),c.createElement(O,{minValue:0,maxValue:1,value:s.masterVampire,className:"flex justify-end align-bottom",buttonClassNames:"px-2 py-0",buttonContainerClassNames:"justify-end",onChange:e=>{n(1===e?{type:"CREATE_MASTER_VAMPIRE"}:{type:"REMOVE_MASTER_VAMPIRE"})}})),c.createElement("h3",{className:"text-lg my-2 font-extrabold text-gray-400"},"Cultist"),c.createElement("div",{className:"p-0 flex w-60 justify-end"},c.createElement("div",{className:"flex items-center"},"Cultist"),c.createElement(O,{minValue:0,maxValue:1,value:d.cultist,className:"flex justify-end align-bottom",buttonClassNames:"px-2 py-0",buttonContainerClassNames:"justify-end",onChange:e=>{n(1===e?{type:"CREATE_CULTIST"}:{type:"REMOVE_CULTIST"})}}))),c.createElement("div",{className:"col-span-2 flex flex-col m-4 items-start p-2"},c.createElement("h1",{className:"text-xl font-extrabold mb-2 "+(l.length===g||b===g?"text-green-500":"")},"Abilities (",g,")"),c.createElement("div",{className:"flex flex-wrap"},P.map((e=>c.createElement("div",{key:e.name,className:"flex flex-row w-1/2 py-1 px-1 items-center justify-between"},c.createElement("div",{className:"pl-1 w-2/3 text-left"},e.name),c.createElement(O,{minValue:0,value:y[e.name],variant:"secondary",className:"flex justify-end align-bottom",buttonClassNames:"px-2 py-0",buttonContainerClassNames:"justify-end",inputClassNames:"py-0",onChange:a=>{n(((e,a)=>({type:"UPDATE_ABILITY",payload:{ability:e,count:a}}))(e.name,a))}})))))))}function I(e){return c.createElement("div",{className:"container flex"},c.createElement("h1",null,"404 Page not found"))}const D=()=>c.createElement("div",{className:"App"},c.createElement(p,null,c.createElement(x,null),c.createElement(f,null,c.createElement(v,{path:"/game",component:R}),c.createElement(v,{path:"/werewolves-role-generator",component:V,exact:!0}),c.createElement(v,{path:"/*",component:I,exact:!0})))),Y=[{name:"",hook:"",identity:"",ability:"",used:!1,alive:!0,isVampire:!1,isCult:!1},{name:"",hook:"",identity:"",ability:"",used:!1,alive:!0,isVampire:!1,isCult:!1},{name:"",hook:"",identity:"",ability:"",used:!1,alive:!0,isVampire:!1,isCult:!1},{name:"",hook:"",identity:"",ability:"",used:!1,alive:!0,isVampire:!1,isCult:!1},{name:"",hook:"",identity:"",ability:"",used:!1,alive:!0,isVampire:!1,isCult:!1},{name:"",hook:"",identity:"",ability:"",used:!1,alive:!0,isVampire:!1,isCult:!1}],L={werewolves:{werewolf:1,loneWerewolf:0,minion:1},villagers:{villager:2,seer:1,witch:1,monarch:0,executioner:0,hooker:0,zatch:0},vampires:{masterVampire:0},cultists:{cultist:0}},S={Ancient:0,"Bench Press":0,Cockblock:0,"Dark Pact":0,Diseased:0,Echolocation:0,"Flower Power":0,"Goblin Contract":0,Haunt:0,Hindsight:0,"Holy Water":0,Idol:0,Inquisitor:0,Jailor:0,Martyr:0,Mask:0,Mortician:0,"Old Age":0,Omen:0,Ordinary:0,Parity:0,Pickpocket:0,Pokerface:0,Possesion:0,Reaper:0,Resonate:0,Revealer:0,"Sleeping Potion":0,Stronghold:0,"Stupid Pills":0,"Tentacle Alien":0,Undead:0,Vagabond:0,Weaponsmith:0},W=g(b({players:(e=Y,a)=>{switch(a.type){case"ADD_PLAYER":return[...e,{name:"",hook:"",identity:"",ability:"",used:!1,alive:!0,isVampire:!1,isCult:!1}];case"REMOVE_PLAYER":return e.filter(((e,t)=>t!==a.payload.playerIndex));case"UPDATE_PLAYER_NAME":return e.map(((e,t)=>o({},t===a.payload.index?s(o({},e),{name:a.payload.name}):e)));case"UPDATE_PLAYER":const t=a.payload,{index:r}=t,c=((e,a)=>{var t={};for(var r in e)l.call(e,r)&&a.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&n)for(var r of n(e))a.indexOf(r)<0&&i.call(e,r)&&(t[r]=e[r]);return t})(t,["index"]);return e.map(((e,a)=>o({},r===a?o(o({},e),c):e)));case"CLEAR_GAME":return e.map((e=>s(o({},e),{identity:"",ability:"",alive:!0,isVampire:!1,isCult:!1})));default:return e}},identities:(e=L,a)=>{switch(a.type){case"UPDATE_VILLAGER":return s(o({},e),{villagers:s(o({},e.villagers),{[a.payload.role]:a.payload.value})});case"UPDATE_WEREWOLF":return s(o({},e),{werewolves:s(o({},e.werewolves),{[a.payload.role]:a.payload.value})});case"CREATE_MASTER_VAMPIRE":return s(o({},e),{vampires:{masterVampire:1}});case"REMOVE_MASTER_VAMPIRE":return s(o({},e),{vampires:{masterVampire:0}});case"CREATE_CULTIST":return s(o({},e),{cultists:{cultist:1}});case"REMOVE_CULTIST":return s(o({},e),{cultists:{cultist:0}});default:return e}},abilities:(e=S,a)=>o(o({},e),"UPDATE_ABILITY"===a.type?{[a.payload.ability]:a.payload.count}:{})}));w.render(c.createElement(c.StrictMode,null,c.createElement(E,{store:W},c.createElement(D,null))),document.getElementById("root"));
